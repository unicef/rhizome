import { expect } from 'chai';
import _ from 'lodash';
import d3 from 'd3';
import React from 'react';
import Chart from 'components/molecules/Chart';
import ChoroplethMap from '../ChoroplethMap.js';

describe(__filename, () => {
  describe('ChoroplethMap', () => {
    var choroplethMapInstance;
    const GREEN = '#83F5A2';
    const YELLOW = '#FFED89';
    const RED = '#FF9489';
    const goodBound = 0.9;
    const badBound = 0.8;
    beforeEach(() => {
      choroplethMapInstance = new ChoroplethMap();
    });
    it('instantiates object with the proper class', () => {
      expect(choroplethMapInstance).to.be.an.instanceof(ChoroplethMap);
    });
    it('is extensible', () => {
      expect(choroplethMapInstance).to.be.extensible;
    });
    it('has existing method', () => {
      expect(choroplethMapInstance).to.respondTo('update');
      expect(choroplethMapInstance).to.respondTo('initialize');
      expect(choroplethMapInstance).to.respondTo('getColor');
    });
    describe('#defaults', () => {
      it('has attribute', () => {
        expect(choroplethMapInstance.defaults).to.exist;
      });
      it('has specific keys', () => {
        expect(choroplethMapInstance.defaults).include.keys(
          'aspect',
          'domain',
          'margin',
          'data_format', 'onClick',
          'value',
          'color',
          'xFormat',
          'name',
          'maxBubbleValue',
          'maxBubbleRadius',
          'bubbleLegendRatio',
          'indicatorName'
        );
        expect(choroplethMapInstance.defaults.margin).keys('top', 'right', 'bottom', 'left');
      });
    });
    describe('#initialize()', () => {
      it('requires correct number of parameters', () => {
        expect(choroplethMapInstance.initialize.length).to.be.eq(3);
      });
      context.skip('passing in valid parameters appends chart to page and fills map', () => {
        const geoFeatures = [JSON.parse("{\"geometry\":{\"coordinates\":[[[61.27655792300004,35.607246399000076],[61.28916168200004,35.62638092100008],[61.29471588100006,35.62832641600005],[61.300827026000036,35.62971496600005],[61.36582946800007,35.63971710200008],[61.37332153300008,35.638046264000025],[61.37887573200004,35.63526916500007],[61.38220977800006,35.631378174000076],[61.429344177000075,35.554771423000034],[61.43859863300008,35.55416107100007],[61.44582366900005,35.55249023500005],[61.451385498000036,35.54999542300004],[61.50332641600005,35.50943756100003],[61.518325806000064,35.494155884000065],[61.52887725800008,35.48249054000007],[61.53333282400007,35.47915649400005],[61.57666015600006,35.450828552000075],[61.59582519500003,35.44415283200004],[61.692491791000066,35.42858339700007],[61.70236455200006,35.42699325800004],[61.79415893500004,35.41220855700004],[61.80249023400006,35.411102295000035],[61.817497254000045,35.418884278000064],[61.91056924500003,35.444798872000035],[61.92020278700005,35.44748119700006],[61.95915985100004,35.458328247000054],[61.97221374500003,35.45999145500008],[61.98749542300004,35.45943450900006],[61.99582672200006,35.458328247000054],[62.029716492000034,35.44860076900005],[62.040550232000044,35.443046570000035],[62.050270081000065,35.436653138000054],[62.072494507000044,35.419990539000025],[62.12776947000003,35.374710083000025],[62.13256073000008,35.36805725100004],[62.16360473600008,35.33582305900006],[62.27027130100004,35.25943756100003],[62.269714356000065,35.25305175700004],[62.27165985100004,35.206382751000035],[62.275962829000036,35.19650268600003],[62.30322265600006,35.146194458000025],[62.309158325000055,35.14166259800004],[62.31388092000003,35.14443969700005],[62.32221984900008,35.15165710400004],[62.33387756400003,35.16332244900008],[62.34415435800008,35.17665863000008],[62.36110687200005,35.19860076900005],[62.38721466100003,35.22721099800003],[62.410545349000074,35.25054931600005],[62.42721557600004,35.264999389000025],[62.444992065000065,35.27804565500003],[62.45943450900006,35.28638458200004],[62.46499633800005,35.288604736000025],[62.47137451200007,35.28971862800006],[62.47887420700005,35.289436340000066],[62.50860595700004,35.277214051000044],[62.51749420200008,35.27027130100004],[62.52443695100004,35.262496948000035],[62.53137970000006,35.25471496500006],[62.54471588100006,35.23971557600004],[62.55443573000008,35.23360443100006],[62.62332153300008,35.224990845000036],[62.63665771500007,35.22665405300006],[62.72221374500003,35.25471496500006],[62.731933594000054,35.26055145200007],[62.83693695100004,35.32416534400005],[62.86943817100007,35.34554290700004],[62.88276672400008,35.35610199000007],[62.88610839800003,35.36054992700008],[62.89443969700005,35.367767334000064],[62.90332031300005,35.374160767000035],[62.92249298100006,35.38416290300006],[62.98332977300004,35.41471099900008],[62.98888397200005,35.416938781000056],[63.01721191400003,35.42610168400006],[63.02887725800008,35.42943573000008],[63.05054473900003,35.42999267600004],[63.07332611100003,35.42887878400006],[63.08638000500008,35.43054962100007],[63.09193420400004,35.43249511800008],[63.09554290800003,35.43693542500006],[63.10527038600003,35.450828552000075],[63.109436035000044,35.46305084200003],[63.126655579000044,35.533607482000036],[63.12609863300008,35.53916168200004],[63.12248992900004,35.543052673000034],[63.099998474000074,35.55387878400006],[63.098602295000035,35.55888366700003],[63.093605041000046,35.613327026000036],[63.09526824900007,35.62609863200004],[63.09887695400005,35.630546570000035],[63.10721588100006,35.63777160700005],[63.11193847700008,35.64054870600006],[63.13193512000004,35.650268555000025],[63.142494201000034,35.655265808000024],[63.18471527100007,35.67360687300004],[63.15832519600008,35.76416015600006],[63.10610199000007,35.82221984900008],[63.104438782000045,35.82721710200008],[63.104438782000045,35.83915710500003],[63.11663055500003,35.85980224600007],[63.11943817100007,35.861938476000034],[63.124992371000076,35.864158631000066],[63.13137817300003,35.865272522000055],[63.20027160700005,35.86221313500005],[63.20860290500008,35.86110687200005],[63.240272522000055,35.85665893500004],[63.272766113000046,35.85277557400008],[63.29582977300004,35.85166168200004],[63.31721496600005,35.85221862800006],[63.34249115000006,35.85721588200005],[63.51721191400003,35.90082550100004],[63.52832794200003,35.90499115000006],[63.543884277000075,35.91249084400005],[63.55638122600004,35.923324585000046],[63.57749176000004,35.94971466100003],[63.58582305900006,35.95665741000005],[63.59554290800003,35.962211609000065],[63.60110473600008,35.96443939200003],[63.61305236800007,35.96749115000006],[63.633331299000076,35.96943664600008],[63.65554809500003,35.969154358000026],[63.698043823000035,35.97082519500003],[63.75943756100003,35.976936340000066],[63.77832794200003,35.98054504400005],[63.79582977300004,35.98554992600003],[63.80693817100007,35.98971557600004],[63.88897705100004,36.031623841000055],[63.92054748500004,36.037498474000074],[63.93387603800005,36.03916168200004],[63.96943664500003,36.04027557400008],[63.98610687300004,36.038047791000054],[64.09498596200007,36.12332153300008],[64.15971374500003,36.161933899000076],[64.16943359400005,36.16749572700007],[64.35331726100003,36.230819702000076],[64.41748046900005,36.24777221700003],[64.42608642600004,36.246658325000055],[64.43247985800008,36.244155884000065],[64.44081115700004,36.24304962200006],[64.44775390600006,36.243324280000024],[64.45887756300004,36.24721527100007],[64.47387695300006,36.25555419900007],[64.50360107400007,36.28054809500003],[64.51998901300004,36.29554748600003],[64.52777099600007,36.303321838000045],[64.58137512200005,36.36943817200006],[64.60137939400005,36.39694213900003],[64.61526489200003,36.42360687300004],[64.62414550800008,36.44721222000004],[64.62776184100005,36.45999145500008],[64.63247680700005,36.48027038600003],[64.63360595700004,36.49249267500005],[64.63192749000007,36.52693939200003],[64.62886047300003,36.53721618600008],[64.61665344200003,36.55971527100007],[64.61248779300007,36.574996948000035],[64.60971069400006,36.59693908700007],[64.60998535100003,36.603050232000044],[64.61692810000005,36.636383057000046],[64.62275695800008,36.65499115000006],[64.62942504900008,36.672767640000075],[64.63442993200005,36.68387603800005],[64.64027404700005,36.69415283200004],[64.64665222200006,36.70360565100003],[64.65748596200007,36.71665954600007],[64.69358825700004,36.768325806000064],[64.71554565400004,36.802772522000055],[64.74432373000008,36.85062408500005],[64.77638244600007,36.893882751000035],[64.78942871100003,36.91276550300006],[64.79525756800007,36.92304992600003],[64.79748535200008,36.92916107100007],[64.80053710900006,36.942489624000075],[64.80108642600004,36.94860076900005],[64.80026245100004,36.95999145500008],[64.79832458500005,36.97054290800003],[64.79026794400005,37.00721740700004],[64.78553772000004,37.02804565500003],[64.77832031200006,37.054161072000056],[64.77693176300005,37.07110595700004],[64.77915954600007,37.09582519600008],[64.78221130400004,37.10916137700008],[64.78942871100003,37.11804962200006],[64.79803466800007,37.124992371000076],[64.82304382400008,37.13860321100003],[64.84443664500003,37.14804840100004],[65.04359436100003,37.23554992700008],[65.06080627400007,37.24137878400006],[65.07276916500007,37.24443817100007],[65.09332275400004,37.24610137900004],[65.36219787600004,37.248603821000074],[65.38388061500007,37.248603821000074],[65.39888000500008,37.248603821000074],[65.43725585900006,37.244369507000044],[65.46775817800005,37.24499511800008],[65.51748657200005,37.24721527100007],[65.53082275400004,37.248603821000074],[65.55442810000005,37.25638580300006],[65.56944274900007,37.26444244400005],[65.57388305700005,37.26805114700005],[65.64610290500008,37.34638214100005],[65.65081787100007,37.355552673000034],[65.65109252900004,37.360824585000046],[65.65081787100007,37.38777160600006],[65.64999389700006,37.39888000500008],[65.64804077100007,37.41027069100005],[65.64471435500008,37.421936035000044],[65.64387512200005,37.43305206300005],[65.64443969700005,37.448875427000075],[65.64694213900003,37.45888519300007],[65.66665649400005,37.49499511700003],[65.68109130900007,37.51693725600006],[65.68441772500006,37.52110290500008],[65.69552612300004,37.533607483000026],[65.70138549800004,37.53694152800006],[65.70887756300004,37.538604736000025],[65.77192688000008,37.537498474000074],[66.00804138200004,37.45526886000005],[66.10525512700008,37.42137908900003],[66.18637085000006,37.37193298400007],[66.27859497000003,37.328880310000045],[66.28997802800006,37.32471466100003],[66.30276489300007,37.32360839800003],[66.30998230000006,37.324440002000074],[66.32527160700005,37.32777404800004],[66.34860229500003,37.33582305900006],[66.35609436100003,37.33749389600007],[66.40832519600008,37.346099854000045],[66.41943359400005,37.34137725800008],[66.44084167500006,37.318878174000076],[66.44747924800004,37.31860351500006],[66.45555114800004,37.32110595700004],[66.46748352100008,37.32777404800004],[66.48858642500005,37.34193420400004],[66.49108886700003,37.34638214100005],[66.49832153400007,37.35471344000007],[66.50915527300003,37.36166381900006],[66.51721191400003,37.36444091800007],[66.52499389700006,37.365829467000026],[66.53773498500004,37.36637878400006],[66.57360839800003,37.368324279000035],[66.58692932100007,37.36804962200006],[66.61775207500006,37.36249542300004],[66.62915039000006,37.35860443100006],[66.72109985300006,37.355552673000034],[66.83638000500008,37.36360931400003],[66.85803222700008,37.365829467000026],[66.92692565900006,37.37887573300003],[66.97026062000003,37.382492066000054],[67.00416564900007,37.38220977800006],[67.02165222200006,37.37721252500006],[67.08767700200008,37.34658050500008],[67.09648132300003,37.33996582100008],[67.20027160700005,37.246658326000045],[67.21276855400004,37.232490539000025],[67.21971130400004,37.22026825000006],[67.22221374500003,37.20304870600006],[67.22943115200007,37.19193267800006],[67.23997497500005,37.186103821000074],[67.25221252400007,37.18387603700006],[67.25942993200005,37.18471527100007],[67.27415466300005,37.18693542500006],[67.28909301700003,37.192489624000075],[67.29568481400008,37.19631958000008],[67.30494689900007,37.203285218000076],[67.38081359800003,37.21249389700006],[67.39721679700006,37.21749115000006],[67.40415954600007,37.22054290800003],[67.45637512200005,37.25054931600005],[67.52638244600007,37.26860046400003],[67.64942932200006,37.24610137900004],[67.72581482000004,37.22887420700005],[67.74386596700003,37.22470855700004],[67.75526428200004,37.22054290800003],[67.76582336400003,37.21554565400004],[67.77053833000008,37.21193695100004],[67.77720642100007,37.19971466100003],[67.77915954600007,37.19360351600005],[67.77987670900006,37.18582153400007],[67.77388000500008,37.119712830000026],[67.77360534700006,37.11444091800007],[67.77554321300005,37.10832977300004],[67.78221130300005,37.096099853000055],[67.79165649400005,37.08832550100004],[68.00138855000006,36.936103821000074],[68.05801391600005,36.93252563500005],[68.17414855900006,37.01444244400005],[68.18719482500006,37.02054595900006],[68.19442749000007,37.02110290600007],[68.28414917000003,37.030548096000075],[68.33442688000008,37.108886719000054],[68.41499328600008,37.11998748800005],[68.62387085000006,37.20054626500007],[68.62969970700004,37.203880310000045],[68.63192749000007,37.21943664600008],[68.63943481500007,37.24388122500005],[68.66026306200007,37.270828247000054],[68.66415405200007,37.27499389700006],[68.80941772500006,37.322494507000044],[68.88777160600006,37.338600159000066],[68.89443969700005,37.33832550000005],[68.96192932200006,37.324996948000035],[68.97387695300006,37.32193756100003],[68.97915649500004,37.31971740800003],[68.99971008300008,37.30776977600004],[69.01193237300004,37.29360961900005],[69.02970886300005,37.25638580300006],[69.03332519600008,37.25083160400004],[69.12081909200003,37.166938782000045],[69.12525939900007,37.163047790000064],[69.13053894000006,37.159988404000046],[69.15104675300006,37.150764466000055],[69.20498657200005,37.11638641400003],[69.24664306700004,37.094154358000026],[69.26220703200005,37.09721374500003],[69.28665161100008,37.10416412300003],[69.31526184100005,37.115272522000055],[69.32110595700004,37.11859893800005],[69.33804321300005,37.12860107400007],[69.38859558100006,37.158599854000045],[69.40998840300006,37.175270080000075],[69.42124939000007,37.196411133000026],[69.42608642600004,37.207214356000065],[69.40582275400004,37.27693939200003],[69.38998413100006,37.324440002000074],[69.38136291500007,37.344154358000026],[69.37442016600005,37.388046264000025],[69.37664794900007,37.41971588100006],[69.38026428200004,37.45110321100003],[69.38275146400008,37.455825805000075],[69.51582336400003,37.580825806000064],[69.52859497000003,37.58387756400003],[69.58110046400003,37.57860565200008],[69.67189025900007,37.574401855000076],[69.79304504400005,37.58277130100004],[69.84609985300006,37.599998474000074],[69.86747741700003,37.60832977300004],[69.88415527400008,37.61305236900006],[69.89915466300005,37.61499786400003],[69.90582275400004,37.61444091800007],[69.91804504400005,37.611938476000034],[69.92886352500005,37.606941223000035],[69.93719482400007,37.59832763700007],[69.94609069800003,37.57860565200008],[69.95416259700005,37.56888580300006],[69.95860290500008,37.564994812000066],[70.01388549800004,37.54554748500004],[70.03221130300005,37.541931152000075],[70.03887939500004,37.54165649400005],[70.06245422400008,37.54133606000005],[70.08248901400003,37.53384399400005],[70.08859252900004,37.53244781500007],[70.09471130400004,37.53132629400005],[70.12081909200003,37.528785706000065],[70.13499450700004,37.52904510500008],[70.15582275400004,37.53623199400005],[70.25360107400007,37.61574554400005],[70.28581237800006,37.69705963200005],[70.28637695400005,37.70233917200005],[70.28221130400004,37.72898101800007],[70.27026367200006,37.768676758000026],[70.26805114700005,37.77394866900005],[70.24693298400007,37.812545776000036],[70.23915100100004,37.82199096700003],[70.23414611800007,37.82505798400007],[70.22276306100008,37.829223633000026],[70.21110534700006,37.832832336000024],[70.19859313900008,37.83533477800006],[70.17997741700003,37.85005188000008],[70.17553710900006,37.85394287100007],[70.16554260300006,37.87171936000004],[70.15914917000003,37.91810607900004],[70.15936279300007,37.92319488500004],[70.16137695300006,37.93337249700005],[70.17025756800007,37.94115448000008],[70.20942688000008,37.92893219000007],[70.23664856000005,37.93726348900003],[70.25247192400008,37.94929504400005],[70.27998352000003,37.976440429000036],[70.29721069300007,37.998588562000066],[70.30747985800008,37.998947144000056],[70.31498718300003,38.00173187300004],[70.33692932200006,38.01506042400007],[70.34693908700007,38.02227783200004],[70.48858642600004,38.157028198000035],[70.49192810000005,38.16675567600004],[70.53887939500004,38.24732971100008],[70.54443359300006,38.25621795700005],[70.54832458500005,38.26038360600006],[70.59915161100008,38.310951233000026],[70.64749145500008,38.354293823000035],[70.71138000500008,38.409866333000025],[70.77943420400004,38.44154357900004],[70.95304870600006,38.471839905000024],[70.96720886200006,38.47211456300005],[70.97998046800006,38.47045898400006],[70.99636840800008,38.46295929000007],[71.14553833000008,38.385734558000024],[71.15042114300007,38.38275146500007],[71.16360473600008,38.369895935000045],[71.17776489300007,38.34794616700003],[71.20498657200005,38.32433319100005],[71.21998596200007,38.315162659000066],[71.24192810100004,38.305442810000045],[71.25444030800003,38.302940369000055],[71.26776123100007,38.30210876500007],[71.27526855400004,38.30266571000004],[71.29748535100003,38.30045318600003],[71.31442260700004,38.29378509600008],[71.35914611800007,38.25350189200003],[71.36303711000005,38.24849700900006],[71.36637878500005,38.23627471900005],[71.36608886700003,38.19793701200007],[71.36553955100004,38.19264984100005],[71.35887146000005,38.16209411600005],[71.35554504400005,38.152366638000046],[71.34999084500004,38.14375305200008],[71.34220886200006,38.135704041000054],[71.33665466300005,38.126800538000055],[71.31526184100005,38.08512878400006],[71.26609802300004,37.98232269300007],[71.25360107400007,37.93758392400008],[71.25138854900007,37.927589417000036],[71.25082397500006,37.92453765800008],[71.25277710000006,37.92203521700003],[71.32331848100006,37.89231109600007],[71.33471679700006,37.88787078900003],[71.38970947300004,37.90704345700004],[71.43580627500006,37.92538452100007],[71.49902343700006,37.946571350000056],[71.51536560100004,37.94845581100003],[71.53414917000003,37.946228027000075],[71.54637146000005,37.94206237800006],[71.57945251500007,37.91794586200007],[71.58859253000003,37.908454895000034],[71.59193420400004,37.90261840800008],[71.59359741200007,37.87427520800003],[71.59109497100008,37.83676910400004],[71.58859253000003,37.81565094000007],[71.57804870600006,37.79954528800005],[71.57388305600006,37.795654297000056],[71.54193115200007,37.726745605000076],[71.50582885700004,37.614227295000035],[71.50296020500008,37.60454559300007],[71.49664306700004,37.568389893000074],[71.49571228000008,37.55815124500003],[71.48719787600004,37.41808319100005],[71.49331665100004,37.37030029300007],[71.49188232500006,37.309303284000066],[71.49026489300007,37.28363037100007],[71.48831176800007,37.27334594700005],[71.48498535200008,37.26362609900008],[71.48054504400005,37.25445556600005],[71.46943664600008,37.23667144800004],[71.45755004900008,37.22454071000004],[71.44859314000007,37.21195221000005],[71.44692993200005,37.20722961400003],[71.43807983400006,37.17112731900005],[71.43692016600005,37.16110992500006],[71.42942810000005,37.075828552000075],[71.43220520000006,37.05804443400007],[71.45693969700005,36.94473266600005],[71.46638488800005,36.92668914800004],[71.55114746100008,36.76648712100007],[71.55468750000006,36.760681152000075],[71.57052612300004,36.73786163300008],[71.58262634300007,36.72416687000003],[71.61006164600008,36.70037841800007],[71.61499023400006,36.69738769600008],[71.62608337400007,36.69322204600007],[71.67720031700003,36.676010132000044],[71.69525146500007,36.67184448300003],[71.75915527300003,36.67488861100003],[71.78166198800005,36.67821502700008],[71.82026672400008,36.68460083000008],[71.84275817900004,36.69210052500006],[71.93136596600004,36.750419617000034],[72.04774475100004,36.83038330100004],[72.22080993700007,36.94117736800007],[72.22689819300007,36.94426727300004],[72.27996826200007,36.967002869000055],[72.30635070800008,36.97810363800005],[72.34663391100008,36.98949432400008],[72.41024780300006,37.00255584700005],[72.43136596600004,37.00283813400006],[72.51803588800004,37.00173950200008],[72.65850830100004,37.02120208700006],[72.66641235400004,37.029495240000074],[72.70803833000008,37.09065246600005],[72.72221374500003,37.11232757500005],[72.73387146000005,37.13538360600006],[72.75888061500007,37.18067932200006],[72.77804565400004,37.21040344200003],[72.79359436000004,37.22623443600003],[72.79887390200008,37.22956848200005],[72.81303405700004,37.23485565200008],[72.82083129900008,37.23596954300007],[72.82777404800004,37.23569488600003],[72.84027099600007,37.233749389000025],[72.84803772000004,37.23485565200008],[72.88638305700005,37.24708557100007],[72.89860534700006,37.25292968800005],[73.00138855000006,37.30406189000007],[73.10775756900006,37.36270141600005],[73.15776062000003,37.40298461900005],[73.27693176300005,37.45301818900003],[73.29136657700008,37.45803070000005],[73.30720520000006,37.46275329600007],[73.43553161600005,37.47582244900008],[73.45637512200005,37.476104736000025],[73.49693298300008,37.47360992400007],[73.51026916500007,37.47249603300003],[73.51638794000007,37.471107483000026],[73.53305053700007,37.46445465100004],[73.54942321800007,37.45751190200008],[73.57138061500007,37.44834136900005],[73.60664367600003,37.438064575000055],[73.61943054200003,37.436119079000036],[73.66053772000004,37.43473815900006],[73.67498779300007,37.43530273400006],[73.68275451600005,37.43669128500005],[73.71165466300005,37.43779754600007],[73.74720764100005,37.43864440900006],[73.77598571700008,37.43429565400004],[73.77665710400004,37.43142700200008],[73.77360534700006,37.35029602100008],[73.77192688000008,37.34529113700006],[73.76887512200005,37.341125488000046],[73.76499939000007,37.337242127000025],[73.72665405300006,37.308616639000036],[73.72053527800006,37.307777405000024],[73.70109558100006,37.31027221700003],[73.65664672900004,37.306663513000046],[73.64942932100007,37.304153443000075],[73.64443969700005,37.30054473800004],[73.63610839800003,37.28915405300006],[73.62164306600005,37.26720428500005],[73.61997985800008,37.262481689000026],[73.61914062500006,37.25720214800003],[73.62081909200003,37.25080871600005],[73.62942504900008,37.242752075000055],[73.63442993200005,37.23969268800005],[73.64054870600006,37.238304138000046],[73.73858642600004,37.221649170000035],[73.81192016600005,37.22666168200004],[73.81971740800003,37.22805786200007],[73.82470703200005,37.231391907000045],[73.83276367200006,37.23916626000005],[73.83831787100007,37.24777984600007],[73.84637451200007,37.25584411600005],[73.85137939500004,37.25917816200007],[73.86470031700003,37.264739990000066],[73.87915039100005,37.269737244000055],[74.04026794500004,37.31143951400003],[74.14610290500008,37.33618164100005],[74.22859191900005,37.38398742700008],[74.22776794400005,37.39537048300008],[74.22859191900005,37.40065002500006],[74.23997497600004,37.40704345700004],[74.24720764200003,37.40954589900008],[74.26110839800003,37.40926361100003],[74.32249450700004,37.40677642800006],[74.38916015600006,37.40316772400007],[74.40081787100007,37.39928436300005],[74.43220520000006,37.39401245100004],[74.54220581100003,37.381797790000064],[74.55131530700004,37.38167572100008],[74.63943481400008,37.386260986000025],[74.66220092800006,37.38877105700004],[74.66961669900007,37.391197205000026],[74.68426513700007,37.399742127000025],[74.82304382300003,37.33183288500004],[74.83276367200006,37.32544708300003],[74.84609985300006,37.31404876700003],[74.91574096700003,37.23732757600004],[74.83221435600007,37.220413208000025],[74.81694030800008,37.21902465800008],[74.81109619100005,37.220413208000025],[74.80525207500006,37.22347259500003],[74.80108642600004,37.22763824400005],[74.77499389600007,37.27014923100006],[74.77192688000008,37.275978089000034],[74.76887512200005,37.28848266600005],[74.76332092300004,37.300979615000074],[74.75804138200004,37.30319976800007],[74.75109863200004,37.30375671400003],[74.74331665000005,37.30265045200008],[74.73609924300007,37.30014801100003],[74.66943359400005,37.26596832300004],[74.60748291000004,37.25095367500006],[74.53720092800006,37.24288940400004],[74.52970886200006,37.24177551300005],[74.52221679700006,37.23926544100004],[74.39721679700006,37.17841339100005],[74.39221191400003,37.17507171600005],[74.38749694800003,37.16590118400006],[74.38665771500007,37.16062164300007],[74.38943481500007,37.15396118100006],[74.40054321300005,37.13896179200003],[74.52886962900004,37.049240112000064],[74.56542968800005,37.02781677300004],[74.56832885700004,37.02674102800006],[74.57249450700004,37.02034759600008],[74.57304382300003,37.01451873800005],[74.56275939900007,36.97422790500008],[74.55802917500006,36.965057373000036],[74.55303955100004,36.96172332700007],[74.54553222700008,36.95922088700007],[74.53970336900005,36.96060943600003],[74.53471374500003,36.963668824000024],[74.52609252900004,36.972000122000054],[74.52249145500008,36.97672271700003],[74.51638794000007,36.98838806200007],[74.50888061500007,36.99839019800004],[74.50444030800008,37.002563477000024],[74.49971008300008,37.00561523500005],[74.48887634300007,37.010337830000026],[74.48220825200008,37.01089477600004],[74.46775817800005,37.010337830000026],[74.41998291000004,37.00143432600004],[74.41387939400005,36.99864959700005],[74.20582580600006,36.90332794200003],[74.12858581500006,36.85219574000007],[74.12692260700004,36.84747314400005],[74.12109375000006,36.83858490000006],[74.11387634300007,36.83608245800008],[74.06219482500006,36.82135009700005],[74.03831482000004,36.814682006000055],[74.03221130300005,36.816070557000046],[73.96304321300005,36.83744812000003],[73.95220947300004,36.842170716000055],[73.93498230000006,36.85828399600007],[73.91998291100003,36.86856079100005],[73.85220337000004,36.89272308400007],[73.83415222200006,36.896888733000026],[73.82748413100006,36.89743804900007],[73.66830444300007,36.90963745100004],[73.64309692400008,36.90266418500005],[73.63664245600006,36.89963531500007],[73.54357910200008,36.880729675000055],[73.53636169500004,36.88017273000003],[73.48802185000005,36.891555786000026],[73.48164367700008,36.892112732000044],[73.38943481400008,36.88932800300006],[73.38220214900008,36.889045715000066],[73.05468750000006,36.868774415000075],[72.94635009800004,36.86016082800006],[72.93801879900008,36.857940674000076],[72.93302917500006,36.854614258000026],[72.92440795900006,36.84655761800008],[72.91830444300007,36.84349823000008],[72.89442443800004,36.83655548100006],[72.87246704100005,36.83460998600003],[72.85830688500005,36.83378601100003],[72.80912780800008,36.832954407000045],[72.77664184600008,36.83627319400006],[72.75915527300003,36.84127807600004],[72.74581909200003,36.842376709000064],[72.64610290500008,36.83348846500007],[72.57859802300004,36.82543182400008],[72.55664062500006,36.82126617400007],[72.55358886700003,36.81959533700007],[72.55220031700003,36.816276550000055],[72.54887390100004,36.81321716300005],[72.53581237800006,36.80265808100006],[72.50248718300003,36.77850341800007],[72.49247741700003,36.77156066900005],[72.47415161100008,36.76239776600005],[72.46665954600007,36.76100921700004],[72.40663147000004,36.76239776600005],[72.33055114800004,36.75572204600007],[72.23414611800007,36.73184204100005],[72.21859741200007,36.727127075000055],[72.18165588400007,36.714363098000035],[72.17553710900006,36.711311340000066],[72.17051696700008,36.70769500700004],[72.16885375900006,36.702980042000036],[72.16941833500005,36.697143555000025],[72.17274475100004,36.69159698500005],[72.18107605000006,36.68188476600005],[72.14581298800005,36.647735596000075],[71.97331237800006,36.541931152000075],[71.74501037600004,36.41612243600008],[71.70974731400008,36.43694305400004],[71.65751648000008,36.463333130000024],[71.64668273900008,36.46777343700006],[71.63946533200004,36.467216492000034],[71.63307189900007,36.465553284000066],[71.62417602600004,36.45806121800007],[71.62028503400006,36.45389556900005],[71.61750793400006,36.449447632000044],[71.59085083000008,36.38864898700007],[71.58113098200005,36.34644317600004],[71.46418762200005,36.272064209000064],[71.24859619100005,36.133041381000055],[71.24357605000006,36.12971496500006],[71.19348144600008,36.06159973200005],[71.19067382800006,36.05717468200004],[71.18760681200007,36.04747009300007],[71.18705749500003,36.04219055200008],[71.18778991700003,36.039443970000036],[71.22238159200003,36.023674011000026],[71.33193969700005,35.95555114700005],[71.38275146500007,35.92082977300004],[71.43553161600005,35.874710083000025],[71.43997192400008,35.87082672200006],[71.44775390700005,35.86110687200005],[71.54525756800007,35.71110534600007],[71.54637146000005,35.699432373000036],[71.54582214400006,35.69415283200004],[71.52804565400004,35.66276550300006],[71.56832885700004,35.58693695100004],[71.60470581100003,35.52693939200003],[71.64721679700006,35.43693542500006],[71.64888000500008,35.430824280000024],[71.64942932200006,35.42499542300004],[71.64776611400004,35.419990539000025],[71.63388061500007,35.403602600000056],[71.62997436500007,35.399719238000046],[71.61692810100004,35.38971710200008],[71.58749389600007,35.368324280000024],[71.57832336500007,35.36054992700008],[71.57054138200004,35.35277557400008],[71.54914856000005,35.328330994000055],[71.54748535200008,35.32360839900008],[71.54693603500004,35.31832885700004],[71.54859924300007,35.30110168400006],[71.55026245100004,35.29471588100006],[71.55747985900007,35.28416442900004],[71.61276245100004,35.230819703000066],[71.57388305600006,35.12082672100007],[71.54331970200008,35.09471130400004],[71.53553772000004,35.08665466300005],[71.53137207000003,35.07749176000004],[71.50305175800008,34.98416137700008],[71.49890136700003,34.96634674100005],[71.49887084900007,34.96388244600007],[71.49609375000006,34.95943450900006],[71.49247741700003,34.95555114800004],[71.48776245100004,34.951934814000026],[71.47581481900005,34.94582366900005],[71.40220642000008,34.91526794500004],[71.29165649400005,34.829994201000034],[71.17025756800007,34.72387695400005],[71.09582519500003,34.67665863000008],[71.09193420400004,34.67249298100006],[71.09054565400004,34.66777038600003],[71.08943176300005,34.65721130400004],[71.08998107900004,34.65138244600007],[71.09165954600007,34.64527130100004],[71.09498596200007,34.639434814000026],[71.10331726100003,34.619712829000036],[71.10386657700008,34.61388397200005],[71.09498596200007,34.56805419900007],[71.09248352000003,34.563606263000054],[71.08859252900004,34.55943298400007],[71.07360839800003,34.556655884000065],[70.99174499600008,34.55549621600005],[70.98748779300007,34.55110168400006],[70.98165893500004,34.53665924000006],[70.97998046800006,34.53193664600008],[70.97804260300006,34.51082611100003],[70.97859191900005,34.504997253000056],[70.99664306700004,34.46804809500003],[71.00054931600005,34.46305084200003],[71.07304382400008,34.39415740900006],[71.08193969700005,34.38721466100003],[71.09275817900004,34.38276672400008],[71.09915161100008,34.382492066000054],[71.11109924300007,34.37971496500006],[71.14860534700006,34.36444091800007],[71.15332031200006,34.36138153100006],[71.15887451200007,34.34832763700007],[71.13554382300003,34.166099548000034],[71.13388061500007,34.16137695300006],[71.08831787100007,34.06443786600005],[71.08193969700005,34.055824280000024],[71.07720947300004,34.05221557600004],[70.89109802300004,33.96638488700006],[70.87359619100005,33.96360778800005],[70.79414367700008,33.95304870600006],[70.55831909200003,33.94443512000004],[70.49136352600004,33.943046570000035],[70.47221374500003,33.94415283200004],[70.33831787100007,33.96388244700006],[70.19970703200005,33.99249267600004],[70.12081909200003,34.01610565100003],[70.05914306700004,34.03527069100005],[70.00860595700004,34.05165863000008],[70.00277710000006,34.052772522000055],[70,34.05254364000007],[69.98831176700008,34.050827026000036],[69.95166015600006,34.04471588200005],[69.93692016600005,34.04166412300003],[69.92997741700003,34.04110717800006],[69.90637207100008,34.03527069100005],[69.89553833000008,34.02304840100004],[69.86470031700003,33.94721221900005],[69.86581420900006,33.93582153300002],[69.86914062500006,33.92999267600004],[69.91665649500004,33.85221862800006],[69.97692871100003,33.762496949000024],[69.98553466800007,33.753051758000026],[69.99026489200008,33.75],[69.99552917500006,33.74804687500006],[70.09582519500003,33.726097106000054],[70.10304260300006,33.727485657000045],[70.12580871600005,33.73499298100006],[70.13275146500007,33.73554992600003],[70.13749694800003,33.73249054000007],[70.19664001400008,33.640830994000055],[70.19970703200005,33.61221313500005],[70.19886779800004,33.60166168200004],[70.18553161600005,33.573883057000046],[70.17330932600004,33.54610443100006],[70.16748046900005,33.52638244600007],[70.16804504400005,33.520828247000054],[70.17164611800007,33.51610565200008],[70.20054626400008,33.47915649400005],[70.20471191400003,33.47526550300006],[70.22831726100003,33.47026824900007],[70.23887634300007,33.466102600000056],[70.24359130900007,33.463050843000076],[70.28610229500003,33.42276763900003],[70.28997802700007,33.418052673000034],[70.30998230000006,33.391380310000045],[70.31330871600005,33.38555145200007],[70.31608581500006,33.379158020000034],[70.32554626400008,33.34332275400004],[70.32693481500007,33.33193969700005],[70.32331848200005,33.32777404800004],[70.23248291000004,33.25471496600005],[70.22331237800006,33.24748992900004],[70.15054321300005,33.20555114700005],[70.02886962900004,33.13582611100003],[69.91165161200007,33.097488404000046],[69.89582824700005,33.092765808000024],[69.88108825700004,33.08998870900007],[69.86747741700003,33.08888244600007],[69.62637329100005,33.08443450900006],[69.58082580600006,33.08693695000005],[69.57554626500007,33.087211609000065],[69.56109619100005,33.08193969700005],[69.55165100100004,33.07471466100003],[69.50888061500007,33.038047790000064],[69.50526428200004,33.03416442900004],[69.49247741700003,33.00860595700004],[69.49081420900006,33.00388336100008],[69.49192810100004,32.98721313500005],[69.50082397500006,32.94526672400008],[69.50749206600005,32.91526794400005],[69.51470947300004,32.87971496600005],[69.51527404800004,32.87387847900004],[69.51277160700005,32.86943817200006],[69.50804138200004,32.865829467000026],[69.46582031200006,32.83693695100004],[69.41165161100008,32.794441223000035],[69.40443420400004,32.78638458300003],[69.39498901300004,32.773880005000024],[69.39443969800004,32.76860046400003],[69.39610290600007,32.762496948000035],[69.41276550300006,32.74443817100007],[69.42192077600004,32.73749542300004],[69.43914794900007,32.71527099600007],[69.45416259700005,32.688598633000026],[69.45860290500008,32.67610168400006],[69.45832824700005,32.67054748600003],[69.45332336400003,32.66165924000006],[69.42469787600004,32.62137603800005],[69.41804504400005,32.61249542200005],[69.40470886300005,32.59582519600008],[69.39776611400004,32.587768554000036],[69.37776184000006,32.56832885800003],[69.35720825200008,32.55860137900004],[69.32720947200005,32.54860687300004],[69.30693054200003,32.54027557400008],[69.28749084500004,32.52638244700006],[69.27804565400004,32.51361084000007],[69.27053833000008,32.50027465800002],[69.25915527300003,32.477485657000045],[69.25387573200004,32.46332550000005],[69.24803161600005,32.443878174000076],[69.24775695800008,32.43832397400007],[69.24859619200004,32.42166137700008],[69.24942016600005,32.416099548000034],[69.25305175800008,32.403602600000056],[69.26138305700005,32.383880616000056],[69.27777099600007,32.35555267400002],[69.28915405300006,32.32943725600006],[69.29081726100003,32.32332611100003],[69.29136657700008,32.317497253000056],[69.29109191900005,32.29582977300004],[69.29026794400005,32.28527069100005],[69.28305053700007,32.217765808000024],[69.27832031200006,32.19776916500007],[69.27276611300005,32.17832946800007],[69.26943969700005,32.163047790000064],[69.27192688000008,32.14527130100004],[69.27415466400004,32.133331299000076],[69.28915405300006,32.057769775000054],[69.29414367700008,32.039436340000066],[69.32824707100008,31.94036483700006],[69.30664062500006,31.93416214000007],[69.29193115200007,31.92555236800007],[69.28332519500003,31.918884277000075],[69.22439575200008,31.871292114000028],[69.21331787100007,31.858051300000056],[69.21026611300005,31.853050232000044],[69.20443725600006,31.833606720000034],[69.20138549800004,31.828609466000046],[69.15748596200007,31.76916503900003],[69.12915039100005,31.734161377000078],[69.11178588800004,31.71675872800006],[69.09971618600008,31.706661224000072],[69.02915954600007,31.65583038300008],[69.01943969700005,31.650550843000076],[69.01388549800004,31.648883820000037],[68.83998107900004,31.604717254000036],[68.83305358900003,31.603885650000052],[68.82165527300003,31.606384277000075],[68.81637573300003,31.608329773000037],[68.80581665100004,31.61277389600008],[68.80165100100004,31.616386414000033],[68.73193359300006,31.699440003000063],[68.72804260300006,31.70416259700005],[68.72137451200007,31.715549469000052],[68.71804809600008,31.727771759000063],[68.65054321300005,31.78277587900004],[68.58137512200005,31.821384430000023],[68.57083129900008,31.825553894000052],[68.56526184100005,31.826663971000073],[68.54748535100003,31.82916259800004],[68.53387451200007,31.828052521000075],[68.51943969800004,31.824996948000035],[68.51165771500007,31.82249832100007],[68.48535156300005,31.81237411500007],[68.44413757300003,31.794719696000072],[68.43969726600005,31.79110717800006],[68.43719482400007,31.786663055000076],[68.44026184100005,31.779998780000028],[68.44303894100005,31.775554657000043],[68.44775390600006,31.772773743000073],[68.45915222100007,31.77027511600005],[68.50915527400008,31.768054963000054],[68.52249145500008,31.769443512000066],[68.54193115200007,31.769443512000066],[68.56053161600005,31.76860809300007],[68.56608581500006,31.767498016000047],[68.57165527400008,31.765274047000048],[68.57331848200005,31.76138687100007],[68.57165527400008,31.756664276000038],[68.56944274900007,31.752220154000042],[68.56248474100005,31.743885040000066],[68.55886840800008,31.739994049000074],[68.54887390100004,31.733051300000056],[68.53776550300006,31.726661682000042],[68.53137207100008,31.72694015500008],[68.28387451200007,31.769443512000066],[68.27221679600007,31.77166366600005],[68.26666259800004,31.774440765000065],[68.26277160600006,31.77916336100003],[68.21887207000003,31.816387177000024],[68.18800354000007,31.829170227000077],[68.17997741700003,31.83277511600005],[68.17192077700008,31.83416366600005],[68.16609191900005,31.83305358800004],[68.16110229500003,31.830276489000028],[68.15748596200007,31.826107025000056],[68.14582824700005,31.80583191000005],[68.13581848200005,31.78277587900004],[68.12664794900007,31.76832962000003],[68.11943054200003,31.759719849000078],[68.04386901800007,31.686939239000026],[67.98054504400005,31.635829926000042],[67.97526550300006,31.633884430000023],[67.96304321300005,31.63193893400006],[67.95610046400003,31.633884430000023],[67.92831420900006,31.64166259700005],[67.89332580600006,31.640830993000066],[67.88749694800003,31.639995575000057],[67.88192749100006,31.63805007900004],[67.86137390200008,31.628330231000064],[67.84471130400004,31.61444091800007],[67.83471679600007,31.600830078000058],[67.82304382300003,31.580276490000074],[67.74775695800008,31.53638458300003],[67.73803710900006,31.53083038300008],[67.73193359400005,31.52916336000004],[67.70832824700005,31.524440766000055],[67.68165588400007,31.523330688000044],[67.66081237800006,31.525829315000067],[67.65776062000003,31.52999877900004],[67.65359497000003,31.53333282500006],[67.64776611400004,31.535831452000025],[67.60026550300006,31.535274505000075],[67.59359741200007,31.534996033000027],[67.58110046400003,31.533607483000026],[67.57554626400008,31.531940460000044],[67.57443237300004,31.527221680000025],[67.57582092300004,31.521942139000032],[67.61303710900006,31.43221664400005],[67.61526489300007,31.427772522000055],[67.65443420400004,31.403049469000052],[67.66775512700008,31.399997712000072],[67.68580627400007,31.403049469000052],[67.70748901400003,31.410552979000045],[67.72554016100008,31.41360855100004],[67.73831176700003,31.41471862800006],[67.75221252400007,31.41444015500008],[67.75999450700004,31.413051605000078],[67.77304077200006,31.408607483000026],[67.78305053700007,31.40249633800005],[67.79136657700008,31.39527511600005],[67.79748535100003,31.387218476000044],[67.79971313500005,31.38249588000008],[67.80081176700003,31.377494812000066],[67.79693603500004,31.35194015500008],[67.79611206000004,31.350149155000054],[67.79193115300006,31.34110641500007],[67.77804565400004,31.33221817100008],[67.61303710900006,31.27111053400006],[67.38471984900008,31.215270996000072],[67.28193664500003,31.21249389600007],[67.26887512200005,31.215549469000052],[67.25648498600003,31.22232437100007],[67.24247741700003,31.218605041000046],[67.23637390100004,31.217773437000062],[67.22915649400005,31.218326569000055],[67.06971740800003,31.239162445000034],[67.05581665100004,31.243049622000058],[67.03776550300006,31.250274658000023],[67.03471374500003,31.254444122000052],[67.03581237800006,31.259719849000078],[67.03997802700007,31.263332367000032],[67.04721069300007,31.271942138000043],[67.05192565900006,31.29222106900005],[67.05165100100004,31.297775268000066],[67.04914856000005,31.308052063000048],[67.04693603500004,31.312774658000023],[67.04275512700008,31.316387176000035],[67.02998352000003,31.32055282600004],[67.00804138200004,31.322219849000078],[66.97415161100008,31.32194137600004],[66.95693969700005,31.318054199000073],[66.88081359900008,31.292495727000073],[66.85581970200008,31.280551910000042],[66.72776794400005,31.21499633800005],[66.72303772000004,31.212215424000078],[66.71775817800005,31.201107025000056],[66.69386291500007,31.126663208000025],[66.69219970700004,31.10221862700007],[66.68997192400008,31.096385956000063],[66.68414306600005,31.08610916200007],[66.68081665000005,31.08166503900003],[66.58526611300005,30.991939545000037],[66.57276916500007,30.981384278000064],[66.56637573300003,30.977771759000063],[66.55554199200003,30.97388458300003],[66.53749084500004,30.970550537000065],[66.47581481900005,30.961662293000074],[66.45582580600006,30.960826874000077],[66.44386291500007,30.958606720000034],[66.42637634300007,30.95388412500006],[66.41554260200007,30.949996948000035],[66.40498352100008,30.946105957000043],[66.39553833000008,30.940830230000074],[66.28193664500003,30.57527542100007],[66.28442382800006,30.56499862700008],[66.30554199200003,30.51860809300007],[66.31275939900007,30.510829926000042],[66.31776428200004,30.50805282600004],[66.32971191400003,30.503330230000074],[66.33888244700006,30.49666214000007],[66.34027099600007,30.491661072000056],[66.35165405300006,30.44527435300006],[66.35192871100003,30.43971633900003],[66.32527160700005,30.23777389600008],[66.32360839900008,30.231105805000027],[66.32083129900008,30.225826264000034],[66.31387329100005,30.217216492000034],[66.29054260200007,30.18610763500004],[66.27249145500008,30.149719238000046],[66.23997497600004,30.078052521000075],[66.23831176800007,30.071384430000023],[66.23997497600004,30.060554504000038],[66.24443054200003,30.051387786000078],[66.24859619100005,30.047775268000066],[66.25749206600005,30.04138565100004],[66.26943969800004,30.036663055000076],[66.29443359400005,30.02166366600005],[66.29859924300007,30.01832962000003],[66.36137390100004,29.96610641500007],[66.36248779300007,29.960826874000077],[66.36219787600004,29.956104278000055],[66.30247497500005,29.89332962000003],[66.25665283200004,29.85194015500008],[66.12803649900007,29.82055282600004],[66.06805419900007,29.805553436000025],[65.86248779300007,29.753887177000024],[65.73387146000005,29.72138214100005],[65.59693908700007,29.686660766000045],[65.25498962400007,29.598331451000035],[65.03414917000003,29.54110717800006],[64.87330627400007,29.569164276000038],[64.76947021500007,29.578758239000024],[64.73997497600004,29.58277511600005],[64.69552612300004,29.586383819000048],[64.66053772000004,29.587776184000063],[64.57499694800003,29.58305358800004],[64.54942321800007,29.580829621000078],[64.49775695800008,29.575553894000052],[64.47859191900005,29.573051453000062],[64.37969970700004,29.553607941000053],[64.27388000500008,29.52388763400006],[64.26332092300004,29.51999664300007],[64.21138000400003,29.498603821000074],[64.19303894000006,29.487495422000052],[64.18136596700003,29.476661682000042],[64.16609191900005,29.461662293000074],[64.15942382800006,29.452774048000038],[64.05914306600005,29.41444015500008],[64.02360534700006,29.428329468000072],[64.01054382300003,29.43249511700003],[63.70304870600006,29.484439850000058],[63.587211609000065,29.503887176000035],[63.554710388000046,29.501663208000025],[63.23043823200004,29.473697663000053],[63.20332336400003,29.470829010000045],[62.55860138000003,29.41277313200004],[62.484436035000044,29.406105041000046],[62.46138000500008,29.411941528000057],[62.40804290800003,29.42721939100005],[62.36249542200005,29.440830231000064],[62.339714050000055,29.447494506000055],[62.24832916300005,29.47360611000005],[62.10360717800006,29.514720917000034],[62.01221466100003,29.540554047000057],[61.789436340000066,29.603328705000024],[61.06304931600005,29.807498932000044],[60.98638153100006,29.828609467000035],[60.866302490000066,29.863655090000066],[60.86859893800005,29.863883972000053],[60.87471008300008,29.86999511700003],[60.91082000800003,29.907218933000024],[61.041938782000045,30.04360961900005],[61.180274964000034,30.18582916200006],[61.21665954600007,30.22277069100005],[61.27748870800008,30.284442902000023],[61.37221527100007,30.381664276000038],[61.758331299000076,30.790275574000077],[61.84777069100005,31.008331299000076],[61.85110473600008,31.021110535000048],[61.851387024000076,31.02749633800005],[61.85027313200004,31.03860855100004],[61.811103821000074,31.17721939100005],[61.78833007900005,31.217216492000034],[61.76680374100005,31.256183624000073],[61.77110290600007,31.31832885700004],[61.74082946800007,31.353328705000024],[61.71360778800005,31.383331299000076],[61.450515747000054,31.418197632000044],[61.18859863300008,31.452217102000077],[61.10416412400008,31.46305084200003],[60.853050232000044,31.49499511700003],[60.84526824900007,31.49610519400005],[60.84387970000006,31.49832916200006],[60.81137847900004,31.659717559000057],[60.82416534500004,31.774440765000065],[60.82416534500004,31.94443893400006],[60.82360839800003,31.949996948000035],[60.82193756100003,31.95499420200008],[60.80693817200006,31.99666214000007],[60.81443786600005,32.01943969800004],[60.83665466300005,32.09027099600007],[60.85499572800006,32.190544128000056],[60.858886719000054,32.217208862000064],[60.857772827000076,32.23471832300004],[60.85332489000007,32.25610351600005],[60.85027313200004,32.26610565200008],[60.83277130200008,32.32193756100003],[60.72637939500004,32.62387847900004],[60.65971374500003,32.81860351500006],[60.59582519500003,33.01361084000007],[60.587913513000046,33.04313659700006],[60.58249664300007,33.06610107400007],[60.58055114800004,33.08860015800008],[60.58027648900003,33.14276886000005],[60.58138275200008,33.149719238000046],[60.591102600000056,33.163047791000054],[60.631378174000076,33.20749664300007],[60.72387695300006,33.30888366700003],[60.756942749000075,33.34499359100005],[60.803321838000045,33.390830993000066],[60.84887695400005,33.47332000800003],[60.84915924100005,33.47971344000007],[60.854438782000045,33.48999023400006],[60.85832977300004,33.49388122600004],[60.86305236800007,33.496658325000055],[60.87387847900004,33.50083160400004],[60.879989624000075,33.50222015400004],[60.893325805000075,33.50332641600005],[60.92982482900004,33.50495147700008],[60.93859863300008,33.50943756100003],[60.94276428200004,33.513328552000075],[60.943046570000035,33.51943969700005],[60.93888092000003,33.52887725800008],[60.93193817100007,33.536941529000046],[60.92304992700008,33.54360961900005],[60.90804290800003,33.55221557700003],[60.90165710400004,33.55443573000008],[60.88638305600006,33.557212830000026],[60.85582733200005,33.55888366700003],[60.795272827000076,33.56137847900004],[60.78027343700006,33.56193542500006],[60.71530914300007,33.56069946300005],[60.70999145500008,33.55943298300008],[60.69526672300003,33.561103821000074],[60.666099548000034,33.567497253000056],[60.59721374500003,33.59748840300006],[60.57054901100008,33.61110687200005],[60.54610443100006,33.62526702900004],[60.53388214100005,33.63582611100003],[60.52777099600007,33.64415741000005],[60.522766113000046,33.65304565400004],[60.51776886000005,33.66832733200005],[60.513328552000075,33.68971252400007],[60.504997254000045,33.73304748500004],[60.50527191200007,33.739158631000066],[60.50833129800003,33.743606568000075],[60.51536178600003,33.75],[60.52054596000005,33.75471496600005],[60.535552978000055,33.77027130100004],[60.54554748500004,33.783607483000026],[60.550827026000036,33.79415893600003],[60.55249023400006,33.800270081000065],[60.554161072000056,33.81332397500006],[60.55302429200003,33.83042144800004],[60.52915954600007,33.961380005000024],[60.51998901400003,34.01055145300006],[60.51082611000004,34.053321838000045],[60.50753021200006,34.06689453100006],[60.50416565000006,34.09165954600007],[60.50444030800003,34.12221527100007],[60.50833129800003,34.14027404800004],[60.51361084000007,34.15082550000005],[60.52610015800008,34.169441223000035],[60.54610443100006,34.196380616000056],[60.66554260300006,34.312492371000076],[60.68471527100007,34.315544129000045],[60.73249054000007,34.319442749000075],[60.74610138000003,34.320549011000026],[60.76666259800004,34.32221984800003],[60.832214355000076,34.32276916500007],[60.83998870800008,34.322494507000044],[60.87887573300003,34.31971740700004],[60.88360595700004,34.35527038600003],[60.80443573000008,34.45804596000005],[60.79749298100006,34.46582794200003],[60.78665924100005,34.47137451100008],[60.78027343700006,34.473602295000035],[60.77304840100004,34.47499084400005],[60.76110839800003,34.479988098000035],[60.75666046100008,34.48332977300004],[60.72165679900007,34.522216796000066],[60.726097106000054,34.533607483000026],[60.729431152000075,34.538047791000054],[60.73360443100006,34.54166412300003],[60.74304962100007,34.54749298100006],[60.75388336200007,34.551658631000066],[60.77915954600007,34.55609893800005],[60.826385498000036,34.56082153300002],[60.83943176300005,34.56276702900004],[60.85083007800006,34.56610107500006],[60.855552673000034,34.569160461000024],[60.97137451100008,34.64443969700005],[60.97526550300006,34.64804840100004],[60.97859954900008,34.65277099600007],[60.98137664800004,34.65776825000006],[61.05110168400006,34.789436340000066],[61.07749176000004,34.87943267800006],[61.11554718000008,35.01693725600006],[61.13166046100008,35.08582305900006],[61.136383057000046,35.124710083000025],[61.136940002000074,35.13721466000004],[61.13443756100003,35.14166259800004],[61.11859893800005,35.16220855700004],[61.114158631000066,35.16554260300006],[61.10860443100006,35.16832733200005],[61.09971618700007,35.17499542200005],[61.096099854000045,35.17887878400006],[61.09471130400004,35.184158325000055],[61.096099854000045,35.23304748500004],[61.09638214100005,35.23943328900003],[61.104438781000056,35.27915954600007],[61.10721588200005,35.28443908700007],[61.18360138000003,35.348602295000035],[61.27526855500008,35.51499939000007],[61.27777099600007,35.52027130100004],[61.28777313200004,35.54999542300004],[61.28860473600008,35.55554962200006],[61.287498474000074,35.56694030700004],[61.27655792300004,35.607246399000076]]],\"type\":\"Polygon\"},\"location_id\":1,\"parent_location_id\":1,\"properties\":{\"location_id\":1,\"created_at\":\"2016-03-16T12:16:08.192730\",\"id\":1,\"latitude\":null,\"location_code\":\"AF001000000000000000\",\"location_type_id\":1,\"longitude\":null,\"lpd_status\":null,\"lvl\":0,\"name\":\"Afghanistan\",\"office_id\":1,\"parent_location_id\":null,\"location_type\":\"Country\"},\"type\":\"Feature\"}")];
        var domain = [badBound, goodBound];
        var element = <Chart type='ChoroplethMap'
            data={geoFeatures}
            loading={false}
            options={{
              aspect: 0.6,
              data_format: 'pct',
              domain: _.constant(domain),
              //fix value
              value: _.property(`properties[${3}]`),
              color: [RED, YELLOW, GREEN],
              xFormat: d3.format(',.1%'),
              onClick: d => DashboardActions.navigate({ location: d })
            }}
          />;
        //grabbed from live data object -> stringify -> parsed, so this is actual live data.
        //im leaving it in the current state as one long line, do not have time to
        //parse this file myself manually.
        var options = {
          aspect: 0.6,
          data_format: "pct",
          color: [RED, YELLOW, GREEN]
        };
        beforeEach(() => {
          choroplethMapInstance.DEFAULTS = {
            aspect: 1,
            domain: _.noop,
            margin: {
              top: 0,
              right: 0,
              bottom: 20,
              left: 0
            },
            data_format: 'pct',
            //EMPTY CLICK LISTENER
            onClick: ()=>{},
            value: _.property('properties.value'),
            color: YELLOW,
            xFormat: d => d3.format(Math.abs(d) < 1 ? '.4f' : 'n')(d),
            name: _.property('properties.name'),
            maxBubbleValue: 5000,
            maxBubbleRadius: 25,
            bubbleLegendRatio: [0.1, 0.5, 1],
            indicatorName: 'Has data'
          };
        });
        it('fills correct color on choropleth map', () => {
          choroplethMapInstance.initialize(element, geoFeatures, options);
          expect(true).to.be.eq(true);
        });
      });
    });
    describe('#update()', () => {
      it('requires correct number of parameters', () => {
        expect(choroplethMapInstance.update.length).to.be.eq(2);
      });
    });
    describe('#getColor()', () => {
      var counter = 0;
      const okIndicator = 0.85;
      const goodIndicator = 0.95;
      const badIndicator = 0.79;
      beforeEach(() => {
        var domain = [badBound, goodBound];
        choroplethMapInstance._options = {
          domain: _.constant(domain),
          color: [RED, YELLOW, GREEN]
        };
      });
      it('requires correct number of parameters', () => {
        expect(choroplethMapInstance.getColor.length).to.be.eq(1);
      });
      context('good bound greater than bad bound',() => {
        it('returns green for good bound indicator', () => {
          expect(choroplethMapInstance.getColor(goodIndicator)).to.be.eq(GREEN);
        });
        it('ONLY returns green for good bound indicator', () => {
          expect(choroplethMapInstance.getColor(goodIndicator)).to.not.be.eq(YELLOW);
          expect(choroplethMapInstance.getColor(goodIndicator)).to.not.be.eq(RED);
        });
        it('returns red for bad bound indicator', () => {
          expect(choroplethMapInstance.getColor(badIndicator)).to.be.eq(RED);
        });
        it('ONLY returns red for bad bound indicator', () => {
          expect(choroplethMapInstance.getColor(badIndicator)).to.not.be.eq(YELLOW);
          expect(choroplethMapInstance.getColor(badIndicator)).to.not.be.eq(GREEN);
        });
        it('returns yellow for bad bound indicator', () => {
          expect(choroplethMapInstance.getColor(okIndicator)).to.be.eq(YELLOW);
        });
        it('ONLY returns yellow for bad bound indicator', () => {
          expect(choroplethMapInstance.getColor(okIndicator)).to.not.be.eq(RED);
          expect(choroplethMapInstance.getColor(okIndicator)).to.not.be.eq(GREEN);
        });
      });
      context('bad bound greater than good bound', () => {
        const reversedGoodIndicator = 0.79;
        const reversedBadIndicator = 0.95;
        beforeEach(() => {
          choroplethMapInstance._options.domain = _.constant(choroplethMapInstance._options.domain().reverse());
        });
        it('returns green for good bound indicator', () => {
          expect(choroplethMapInstance.getColor(reversedGoodIndicator)).to.be.eq(GREEN);
        });
        it('ONLY returns green for good bound indicator', () => {
          expect(choroplethMapInstance.getColor(reversedGoodIndicator)).to.not.be.eq(YELLOW);
          expect(choroplethMapInstance.getColor(reversedGoodIndicator)).to.not.be.eq(RED);
        });
        it('returns red for bad bound indicator', () => {
          expect(choroplethMapInstance.getColor(reversedBadIndicator)).to.be.eq(RED);
        });
        it('ONLY returns red for bad bound indicator', () => {
          expect(choroplethMapInstance.getColor(reversedBadIndicator)).to.not.be.eq(YELLOW);
          expect(choroplethMapInstance.getColor(reversedBadIndicator)).to.not.be.eq(GREEN);
        });
        it('returns yellow for bad bound indicator', () => {
          expect(choroplethMapInstance.getColor(okIndicator)).to.be.eq(YELLOW);
        });
        it('ONLY returns yellow for bad bound indicator', () => {
          expect(choroplethMapInstance.getColor(okIndicator)).to.not.be.eq(RED);
          expect(choroplethMapInstance.getColor(okIndicator)).to.not.be.eq(GREEN);
        });
      });
    });
  });
});